<!DOCTYPE html>
<head>
<script>
	const GRID_SIZE = 10;
	const board = new Array(GRID_SIZE);
	for (let i = 0; i < GRID_SIZE; ++i) { //fill was not creating new objects for each sub-array
		board[i] = new Array(GRID_SIZE).fill(false);
	}

	const printBoard = () => {
		let boardText = "";
		for (let i = 0; i < GRID_SIZE; ++i) {
			for (let j = 0; j < GRID_SIZE; ++j) {
				const cell = board[i][j];
				if (cell) {
					boardText += `board[${i}][${j}] = ${cell};\n`;
				}
			}
		}
		document.getElementById("output").textContent = boardText;
	}

	const onCheckboxChanged = (mouseEvent) => {
		const checkbox = mouseEvent.target;
		console.log("onCheckboxChanged:", checkbox.id, checkbox.checked);
		const coords = checkbox.id.split("_");
		board[coords[0]][coords[1]] = checkbox.checked;

		printBoard();
	}

	const createBoardEditor = () => {
		const table = document.createElement("table");

		for (let i = 0; i < GRID_SIZE; ++i) {
			const tr = document.createElement("tr");
			table.appendChild(tr);
			for (let j = 0; j < GRID_SIZE; ++j) {
				const td = document.createElement("td");
				tr.appendChild(td);

				const checkbox = document.createElement('input');
				checkbox.type = "checkbox";
				checkbox.name = "name";
				checkbox.value = "value";
				checkbox.id = `${i}_${j}`;
				checkbox.checked = board[i][j];
				checkbox.onclick = onCheckboxChanged;

				td.appendChild(checkbox);
			}
		}

		const gridElement = document.getElementById("grid");
		grid.replaceChild(table, grid.firstElementChild);
	}

	window.onload = () => {
		createBoardEditor();
	};
</script>
</head>
<body>
	<h1>Grid Editor</h1>
	<p>This thing generates code for creating board start conditions.</p>
	<div id="grid"><a name="placeholder"></a></div>
	<p><pre id="output"></pre></p>
</body>
